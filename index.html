<!DOCTYPE html>
<html lang="en">

<head>
    <script src="formatNumber.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="all.min.css" rel="stylesheet" type="text/css">
    <link href="woff2.min.css" rel="stylesheet" type="text/css">
    <link href="main.css" rel="stylesheet" type="text/css">
    <title>Shopping Spree Test</title>
    <script src="fontawesome.min.js" defer></script>
</head>

<body>
    <menu id="menu">
        <li>Tax: <input type="text" id="taxInput" data-lastValid="0" value="0" oninput="if (new RegExp(/^(?:\d{1,2}(?:\.\d{0,3})?|100(?:\.0*)?|0\.)$/).test(this.value) || this.value == '') {this.setAttribute('data-lastValid', this.value)} else {this.value = this.getAttribute('data-lastValid')}">%</li>
    </menu>
    <h1>Shopping Spree</h1>
    <p>Purchase stuff here.</p>
    <section id="stuff">
        <div id="1" class="itemBox">
            <h1>#1</h1>
            <p>Description:</p>
            <ul>
                <li>Name: <input class="nameThing" type="text" data-lastValid="item1" value="item1" oninput="if (items.get(this.value) == undefined && new RegExp(/^[\w\-\' ]+$/).test(this.value)) {items = rename(items, this.getAttribute('data-lastValid'), this.value),this.setAttribute('data-lastValid', this.value)} else {this.value = this.getAttribute('data-lastValid')}"></li>
                <li>Price: $<input class="priceThing" type="text" data-lastValid="1.00" oninput="if (new RegExp(/^[0-9]+\.?([0-9]{1,2})?$/).test(this.value)) {this.setAttribute('data-lastValid', this.value), items.set(this.parentElement.previousElementSibling.querySelector('input').getAttribute('data-lastValid'), {price: this.value, quantity: items.get(this.parentElement.previousElementSibling.querySelector('input').getAttribute('data-lastValid')).quantity})} else { this.value = this.getAttribute('data-lastValid')} // https://stackoverflow.com/a/41981763/15055490" value="1.00"></li>
            </ul>
            <label>Quantity: <input class="quantityThing" type="text" data-lastValid="0" value="0" oninput="if (new RegExp(/^[0-9]{1,10}$/).test(this.value) || this.value == '') {this.setAttribute('data-lastValid', this.value), items.set(this.parentElement.previousElementSibling.querySelector('input').getAttribute('data-lastValid'), {price: items.get(this.parentElement.previousElementSibling.querySelector('input').getAttribute('data-lastValid')).price, quantity: this.value})} else { this.value = this.getAttribute('data-lastValid')} // https://stackoverflow.com/a/41981763/15055490"></label>
            <button class="remove" onclick="removeItemBox(this.parentElement);"><i class="fas fa-trash-xmark fa-xl"></i>Delete</button>
        </div>
        <button id="addNew" onclick="createItemBox();" title="Add another item!"><i class="fal fa-plus"></i></button>
    </section>
    <section id="receipt">
        <h2 id="receiptHeader">Receipt</h2>
        <table id="table">
            <thead>
                <tr>
                    <th scope="col">Item</th>
                    <th scope="col">Unit Price</th>
                    <th scope="col"><abbr title="Quantity">Qty.</abbr></th>
                    <th scope="col">Calculated Price</th>
                </tr>
            </thead>
            <tbody id="tbody">
                <tr>
                    <td>item1</td>
                    <td>$1.00</td>
                    <td>1</td>
                    <td>$1.00</td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <th>Subtotal</th>
                    <td id="subtotal" colspan="3">$0.00</td>
                </tr>
                <tr>
                    <th>Tax (<span id="taxPercent">0</span>%)</th>
                    <td id="tax" colspan="3">$0.00</td>
                </tr>
                <tr>
                    <th>Total</th>
                    <td id="total" colspan="3">$0.00</td>
                </tr>
            </tfoot>
        </table>
    </section>
    <script src="script.js"></script>
</body>

</html>